{"version":3,"sources":["uoit-campus-map.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_map_component","_map_component2","_map_controller","_map_controller2","_mapControls_component","_mapControls_component2","_mapControls_controller","_mapControls_controller2","_mapDetail_controller","_mapSettings_constant","_mapSettings_constant2","_mapIcons_constant","_mapIcons_constant2","_templates","_templates2","angular","run","controller","component","constant","campusMap","bindings","onGotoBldg","markers","templateUrl","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_mapDetail_controller2","MapCtrl","$timeout","$scope","NgMap","$mdToast","$mdPanel","MAP_SETTINGS","MAP_ICONS","_getMap","getMap","_toast","simple","_toastCanceler","_toastActive","get","_this","then","_map","google","maps","event","trigger","data","setStyle","feature","category","getProperty","icon","SERVICE","AED","FOOD","fillColor","fillOpacity","strokeWeight","strokeColor","strokeOpacity","PARKING","OUTDOOR","DEFAULT","addListener","overrideStyle","showToast","revertStyle","hideToast","showDetail","bind","$watch","mapControls","newVal","clearMapData","updateMapData","currentLocation","location","clearInstanceListeners","_this2","featureName","cancel","updateTextContent","textContent","position","hideDelay","show","_this3","hide","xy","clientX","clientY","prop","newPanelPosition","absolute","top","left","config","attachTo","element","document","body","controllerAs","hasBackdrop","panelClass","locals","callback","trapFocus","zIndex","clickOutsideToClose","escapeToClose","focusOnOpen","open","_this4","forEach","remove","_this5","showAll","addGeoJson","collection","loadGeoJson","_id","fitBounds","geometry","thisArg","_this6","LatLng","Data","Point","getArray","g","processBounds","_this7","bounds","LatLngBounds","getGeometry","extend","MapDetailCtrl","$sce","$state","building","name","description","trustAsHtml","desc","detailsShowing","mdPanelRef","close","code","campusMapControls","require","$ngModel","MapControlsCtrl","$mapApi","$tourApi","$window","FeatureResource","CollectionResource","CategoryResource","LocationResource","loadLocations","locations","updateLocation","query","$promise","triggerHandler","categories","filter","collections","loadCategories","updateCategory","loadCollections","updateCollection","$setViewValue","features","type","styles","stylers","visibility","saturation","gamma","featureType","elementType","color","path","anchor","size","Size","ACCESS","rotation","scale","templates","$templateCache","put"],"mappings":"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","file":"uoit-campus-map.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"campusMap\"] = factory();\n\telse\n\t\troot[\"campusMap\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _map_component = __webpack_require__(1);\n\t\n\tvar _map_component2 = _interopRequireDefault(_map_component);\n\t\n\tvar _map_controller = __webpack_require__(2);\n\t\n\tvar _map_controller2 = _interopRequireDefault(_map_controller);\n\t\n\tvar _mapControls_component = __webpack_require__(4);\n\t\n\tvar _mapControls_component2 = _interopRequireDefault(_mapControls_component);\n\t\n\tvar _mapControls_controller = __webpack_require__(5);\n\t\n\tvar _mapControls_controller2 = _interopRequireDefault(_mapControls_controller);\n\t\n\tvar _mapDetail_controller = __webpack_require__(3);\n\t\n\tvar _mapDetail_controller2 = _interopRequireDefault(_mapDetail_controller);\n\t\n\tvar _mapSettings_constant = __webpack_require__(6);\n\t\n\tvar _mapSettings_constant2 = _interopRequireDefault(_mapSettings_constant);\n\t\n\tvar _mapIcons_constant = __webpack_require__(7);\n\t\n\tvar _mapIcons_constant2 = _interopRequireDefault(_mapIcons_constant);\n\t\n\tvar _templates = __webpack_require__(8);\n\t\n\tvar _templates2 = _interopRequireDefault(_templates);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//\n\t// ----------------\n\t\n\texports.default = angular.module('campusMap', []).run(_templates2.default).controller('MapCtrl', _map_controller2.default).controller('MapControlsCtrl', _mapControls_controller2.default).component('campusMap', _map_component2.default).component('campusMapControls', _mapControls_component2.default).constant('MAP_SETTINGS', _mapSettings_constant2.default).constant('MAP_ICONS', _mapIcons_constant2.default);\n\t\n\t// development only\n\t//\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar campusMap = {\n\t  // transclude: true,\n\t  bindings: {\n\t    onGotoBldg: '<',\n\t    markers: '<?'\n\t  },\n\t  templateUrl: '_map.html',\n\t  controller: 'MapCtrl'\n\t};\n\t\n\texports.default = campusMap;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _mapDetail_controller = __webpack_require__(3);\n\t\n\tvar _mapDetail_controller2 = _interopRequireDefault(_mapDetail_controller);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar MapCtrl = function () {\n\t\t_createClass(MapCtrl, null, [{\n\t\t\tkey: '$inject',\n\t\t\tget: function get() {\n\t\t\t\treturn ['$timeout', '$scope', // angular core\n\t\t\t\t'NgMap', // external deps\n\t\t\t\t'$mdToast', '$mdPanel', // md deps\n\t\t\t\t'MAP_SETTINGS', 'MAP_ICONS' // constants\n\t\t\t\t];\n\t\t\t}\n\t\t}]);\n\t\n\t\tfunction MapCtrl($timeout, $scope, NgMap, $mdToast, $mdPanel, MAP_SETTINGS, MAP_ICONS) {\n\t\t\t_classCallCheck(this, MapCtrl);\n\t\n\t\t\t// init constants\n\t\t\tthis.MAP_SETTINGS = MAP_SETTINGS;\n\t\t\tthis.MAP_ICONS = MAP_ICONS;\n\t\n\t\t\t// attach dependencies\n\t\t\tthis.$timeout = $timeout;\n\t\t\tthis.$scope = $scope;\n\t\t\tthis.$mdToast = $mdToast;\n\t\t\tthis.$mdPanel = $mdPanel;\n\t\n\t\t\t// init helper vars\n\t\t\tthis._getMap = NgMap.getMap;\n\t\t\tthis._toast = $mdToast.simple();\n\t\t\tthis._toastCanceler = null;\n\t\t\tthis._toastActive = false;\n\t\t}\n\t\n\t\t_createClass(MapCtrl, [{\n\t\t\tkey: '$onInit',\n\t\t\tvalue: function $onInit() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\t// unwrap promise supplied by ngMap\n\t\t\t\tthis._getMap().then(function (instance) {\n\t\t\t\t\t_this._map = instance;\n\t\t\t\t\t// force map to fill entire content (glitch?)\n\t\t\t\t\tgoogle.maps.event.trigger(instance, 'resize');\n\t\n\t\t\t\t\t// set styles of ma\n\t\t\t\t\tinstance.data.setStyle(function (feature) {\n\t\t\t\t\t\tvar category = feature.getProperty('category');\n\t\t\t\t\t\tswitch (category) {\n\t\t\t\t\t\t\tcase '581a2c57d9ff16e787aa1b20':\n\t\t\t\t\t\t\t\t// Services\n\t\t\t\t\t\t\t\treturn { icon: _this.MAP_ICONS.SERVICE };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '581a2c5ed9ff16e787aa1b21':\n\t\t\t\t\t\t\t\t// Emergency services\n\t\t\t\t\t\t\t\treturn { icon: _this.MAP_ICONS.AED };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '581a2c77d9ff16e787aa1b22':\n\t\t\t\t\t\t\t\t// Restaurants and food courts\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ticon: _this.MAP_ICONS.FOOD,\n\t\t\t\t\t\t\t\t\tfillColor: '#5F259F',\n\t\t\t\t\t\t\t\t\tfillOpacity: 1,\n\t\t\t\t\t\t\t\t\tstrokeWeight: 3,\n\t\t\t\t\t\t\t\t\tstrokeColor: 'white',\n\t\t\t\t\t\t\t\t\tstrokeOpacity: 0.3\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '581a2c8ad9ff16e787aa1b24':\n\t\t\t\t\t\t\t\t// Parking\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ticon: _this.MAP_ICONS.PARKING,\n\t\t\t\t\t\t\t\t\tfillColor: '#53565A',\n\t\t\t\t\t\t\t\t\tfillOpacity: 0.5,\n\t\t\t\t\t\t\t\t\tstrokeWeight: 3,\n\t\t\t\t\t\t\t\t\tstrokeColor: 'white',\n\t\t\t\t\t\t\t\t\tstrokeOpacity: 0.3\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '581a2c8fd9ff16e787aa1b25':\n\t\t\t\t\t\t\t\t// Parking\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ticon: _this.MAP_ICONS.OUTDOOR,\n\t\t\t\t\t\t\t\t\tfillColor: '#1a875c',\n\t\t\t\t\t\t\t\t\tfillOpacity: 0.5,\n\t\t\t\t\t\t\t\t\tstrokeWeight: 3,\n\t\t\t\t\t\t\t\t\tstrokeColor: 'white',\n\t\t\t\t\t\t\t\t\tstrokeOpacity: 0.1\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t// other\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ticon: _this.MAP_ICONS.DEFAULT,\n\t\t\t\t\t\t\t\t\tfillColor: '#0077CA',\n\t\t\t\t\t\t\t\t\tfillOpacity: 1,\n\t\t\t\t\t\t\t\t\tstrokeWeight: 3,\n\t\t\t\t\t\t\t\t\tstrokeColor: '#003C71',\n\t\t\t\t\t\t\t\t\tstrokeOpacity: 0.3\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\tinstance.data.addListener('mouseover', function (event) {\n\t\t\t\t\t\tinstance.data.overrideStyle(event.feature, {\n\t\t\t\t\t\t\tfillColor: '#C71566',\n\t\t\t\t\t\t\tfillOpacity: 0.7,\n\t\t\t\t\t\t\tstrokeWeight: 5,\n\t\t\t\t\t\t\tstrokeColor: 'white',\n\t\t\t\t\t\t\tstrokeOpacity: 0.7\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_this.showToast(event.feature);\n\t\t\t\t\t});\n\t\n\t\t\t\t\tinstance.data.addListener('mouseout', function (event) {\n\t\t\t\t\t\tinstance.data.revertStyle();\n\t\t\t\t\t\t_this.hideToast();\n\t\t\t\t\t});\n\t\n\t\t\t\t\tinstance.data.addListener('click', _this.showDetail.bind(_this));\n\t\n\t\t\t\t\t_this.$scope.$watch(function () {\n\t\t\t\t\t\treturn _this.mapControls;\n\t\t\t\t\t}, function (newVal) {\n\t\t\t\t\t\t_this.clearMapData();\n\t\t\t\t\t\t_this.updateMapData(newVal);\n\t\t\t\t\t\t_this.currentLocation = newVal.location;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '$onDestroy',\n\t\t\tvalue: function $onDestroy() {\n\t\t\t\tthis._getMap().then(function (instance) {\n\t\t\t\t\treturn google.maps.event.clearInstanceListeners(instance);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'showToast',\n\t\t\tvalue: function showToast(feature) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tvar featureName = feature.getProperty('name');\n\t\t\t\tif (!this._toastActive) {\n\t\t\t\t\tthis._toast.textContent(featureName).position('bottom left').hideDelay(0);\n\t\t\t\t\tthis.$mdToast.show(this._toast);\n\t\t\t\t\tthis._toastActive = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$timeout.cancel(this._toastCanceler);\n\t\t\t\t\tthis.$timeout(function () {\n\t\t\t\t\t\t_this2.$mdToast.updateTextContent(featureName);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hideToast',\n\t\t\tvalue: function hideToast() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\tthis._toastCanceler = this.$timeout(function () {\n\t\t\t\t\t_this3.$mdToast.hide(_this3._toast);\n\t\t\t\t\t_this3._toastActive = false;\n\t\t\t\t}, 3000);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'showDetail',\n\t\t\tvalue: function showDetail(event) {\n\t\t\t\tvar feature = event.feature,\n\t\t\t\t    xy = { clientX: 0, clientY: 0 };\n\t\n\t\t\t\tfor (var prop in event) {\n\t\t\t\t\tif (event[prop] && event[prop].clientX && event[prop].clientY) {\n\t\t\t\t\t\txy.clientX = event[prop].clientX;\n\t\t\t\t\t\txy.clientY = event[prop].clientY;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tvar position = this.$mdPanel.newPanelPosition().absolute().top(xy.clientY + 'px').left(xy.clientX + 'px');\n\t\n\t\t\t\tvar config = {\n\t\t\t\t\tattachTo: angular.element(document.body),\n\t\t\t\t\tcontroller: _mapDetail_controller2.default,\n\t\t\t\t\tcontrollerAs: 'ctrl',\n\t\t\t\t\ttemplateUrl: 'detail/_map-detail.html',\n\t\t\t\t\thasBackdrop: true,\n\t\t\t\t\tpanelClass: 'demo-dialog-example',\n\t\t\t\t\tlocals: {\n\t\t\t\t\t\tcallback: this.onGotoBldg(),\n\t\t\t\t\t\tlocation: this.currentLocation,\n\t\t\t\t\t\tfeature: feature\n\t\t\t\t\t},\n\t\t\t\t\ttrapFocus: true,\n\t\t\t\t\tzIndex: 150,\n\t\t\t\t\tclickOutsideToClose: true,\n\t\t\t\t\tescapeToClose: true,\n\t\t\t\t\tfocusOnOpen: true,\n\t\t\t\t\tposition: position\n\t\t\t\t};\n\t\t\t\tthis.$mdPanel.open(config);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'clearMapData',\n\t\t\tvalue: function clearMapData() {\n\t\t\t\tvar _this4 = this;\n\t\n\t\t\t\tthis._map.data.forEach(function (feature) {\n\t\t\t\t\t_this4._map.data.remove(feature);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'updateMapData',\n\t\t\tvalue: function updateMapData(newVal) {\n\t\t\t\tvar _this5 = this;\n\t\n\t\t\t\tif (newVal && newVal.showAll) {\n\t\t\t\t\tthis._map.data.addGeoJson(newVal.collection);\n\t\t\t\t} else {\n\t\t\t\t\tnewVal && this._map.data.loadGeoJson('http://localhost:3000/api/v1/feature-collections/' + newVal.collection._id, null, function () {\n\t\t\t\t\t\t_this5.fitBounds(_this5._map);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'processBounds',\n\t\t\tvalue: function processBounds(geometry, callback, thisArg) {\n\t\t\t\tvar _this6 = this;\n\t\n\t\t\t\tif (geometry instanceof google.maps.LatLng) {\n\t\t\t\t\tcallback.call(thisArg, geometry);\n\t\t\t\t} else if (geometry instanceof google.maps.Data.Point) {\n\t\t\t\t\tcallback.call(thisArg, geometry.get());\n\t\t\t\t} else {\n\t\t\t\t\tgeometry.getArray().forEach(function (g) {\n\t\t\t\t\t\t_this6.processBounds(g, callback, thisArg);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fitBounds',\n\t\t\tvalue: function fitBounds() {\n\t\t\t\tvar _this7 = this;\n\t\n\t\t\t\tvar bounds = new google.maps.LatLngBounds();\n\t\t\t\tthis._map.data.forEach(function (feature) {\n\t\t\t\t\t_this7.processBounds(feature.getGeometry(), bounds.extend, bounds);\n\t\t\t\t});\n\t\t\t\tthis._map.fitBounds(bounds);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn MapCtrl;\n\t}();\n\t\n\texports.default = MapCtrl;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar MapDetailCtrl = function () {\n\t\t_createClass(MapDetailCtrl, null, [{\n\t\t\tkey: '$inject',\n\t\t\tget: function get() {\n\t\t\t\treturn ['$sce', '$state'];\n\t\t\t}\n\t\t}]);\n\t\n\t\tfunction MapDetailCtrl($sce, $state) {\n\t\t\t_classCallCheck(this, MapDetailCtrl);\n\t\n\t\t\tthis.$state = $state;\n\t\t\tif (this.feature.getProperty('linked')) {\n\t\t\t\tthis.building = this.feature.getProperty('building');\n\t\n\t\t\t\tthis.name = this.building.name;\n\t\t\t\tthis.description = $sce.trustAsHtml(this.building.desc);\n\t\t\t} else {\n\t\t\t\tthis.name = this.feature.getProperty('name');\n\t\t\t\tthis.description = $sce.trustAsHtml(this.feature.getProperty('desc'));\n\t\t\t}\n\t\t\tthis.detailsShowing = false;\n\t\t}\n\t\n\t\t_createClass(MapDetailCtrl, [{\n\t\t\tkey: 'showDetails',\n\t\t\tvalue: function showDetails() {\n\t\t\t\tthis.detailsShowing = !this.detailsShowing;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'goToBldg',\n\t\t\tvalue: function goToBldg(callback) {\n\t\t\t\tthis.mdPanelRef.close();\n\t\t\t\tvar location = this.location,\n\t\t\t\t    building = this.building;\n\t\n\t\t\t\tcallback({\n\t\t\t\t\tlocation: this.location.code,\n\t\t\t\t\tbuilding: this.building.code\n\t\t\t\t});\n\t\t\t\t// this.$state.go('building', {\n\t\t\t\t// \tlocation: this.location.code,\n\t\t\t\t// \tbuilding: this.building.code\n\t\t\t\t// });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'close',\n\t\t\tvalue: function close() {\n\t\t\t\tthis.mdPanelRef.close();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn MapDetailCtrl;\n\t}();\n\t\n\texports.default = MapDetailCtrl;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar campusMapControls = {\n\t  require: {\n\t    $ngModel: 'ngModel'\n\t    // MapCtrl: '^map'\n\t  },\n\t  templateUrl: 'controls/_map-controls.html',\n\t  controller: 'MapControlsCtrl'\n\t};\n\t\n\texports.default = campusMapControls;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar MapControlsCtrl = function () {\n\t\t_createClass(MapControlsCtrl, null, [{\n\t\t\tkey: '$inject',\n\t\t\tget: function get() {\n\t\t\t\treturn ['$mapApi', '$tourApi', '$timeout', '$window'];\n\t\t\t}\n\t\t}]);\n\t\n\t\tfunction MapControlsCtrl($mapApi, $tourApi, $timeout, $window) {\n\t\t\t_classCallCheck(this, MapControlsCtrl);\n\t\n\t\t\tthis.FeatureResource = $mapApi.feature;\n\t\t\tthis.CollectionResource = $mapApi.collection;\n\t\t\tthis.CategoryResource = $mapApi.category;\n\t\t\tthis.LocationResource = $tourApi.location;\n\t\t\tthis.$timeout = $timeout;\n\t\t\tthis.$window = $window;\n\t\t}\n\t\n\t\t_createClass(MapControlsCtrl, [{\n\t\t\tkey: '$onInit',\n\t\t\tvalue: function $onInit() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tthis.loadLocations(function (locations) {\n\t\t\t\t\t_this.location = locations[1];\n\t\t\t\t\t_this.updateLocation();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loadLocations',\n\t\t\tvalue: function loadLocations(callback) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\treturn this.LocationResource.query().$promise.then(function (locations) {\n\t\t\t\t\t_this2.locations = locations;\n\t\t\t\t\tcallback && callback(locations);\n\t\t\t\t\t_this2.$timeout(function () {\n\t\t\t\t\t\treturn angular.element(_this2.$window).triggerHandler('resize');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loadCategories',\n\t\t\tvalue: function loadCategories(callback) {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\treturn this.CategoryResource.query().$promise.then(function (categories) {\n\t\t\t\t\t_this3.categories = categories;\n\t\t\t\t\tcallback && callback(categories);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loadCollections',\n\t\t\tvalue: function loadCollections(callback) {\n\t\t\t\tvar _this4 = this;\n\t\n\t\t\t\tvar location = this.location,\n\t\t\t\t    category = this.category;\n\t\n\t\t\t\treturn this.CollectionResource.query({\n\t\t\t\t\tfilter: { location: location._id, category: category._id }\n\t\t\t\t}).$promise.then(function (collections) {\n\t\t\t\t\t_this4.collections = collections;\n\t\t\t\t\tcallback && callback(collections);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'updateLocation',\n\t\t\tvalue: function updateLocation() {\n\t\t\t\tvar _this5 = this;\n\t\n\t\t\t\tthis.loadCategories(function (categories) {\n\t\t\t\t\t_this5.category = categories[0];\n\t\t\t\t\t_this5.updateCategory();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'updateCategory',\n\t\t\tvalue: function updateCategory() {\n\t\t\t\tvar _this6 = this;\n\t\n\t\t\t\tthis.loadCollections(function (collections) {\n\t\t\t\t\t_this6.collection = collections[0];\n\t\t\t\t\t_this6.updateCollection();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'updateCollection',\n\t\t\tvalue: function updateCollection() {\n\t\t\t\tvar location = this.location,\n\t\t\t\t    category = this.category,\n\t\t\t\t    collection = this.collection;\n\t\n\t\t\t\tthis.$ngModel.$setViewValue({ location: location, category: category, collection: collection });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'showAll',\n\t\t\tvalue: function showAll() {\n\t\t\t\tvar _this7 = this;\n\t\n\t\t\t\tthis.FeatureResource.query({}).$promise.then(function (features) {\n\t\t\t\t\t_this7.$ngModel.$setViewValue({\n\t\t\t\t\t\tshowAll: true,\n\t\t\t\t\t\tcollection: { type: 'FeatureCollection', features: features }\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn MapControlsCtrl;\n\t}();\n\t\n\texports.default = MapControlsCtrl;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar MAP_SETTINGS = {\n\t  type: 'ROADMAP',\n\t  styles: [{\n\t    \"stylers\": [{\n\t      \"visibility\": \"on\"\n\t    }, {\n\t      \"saturation\": -100\n\t    }, {\n\t      \"gamma\": 0.54\n\t    }]\n\t  }, {\n\t    \"featureType\": \"landscape.natural\",\n\t    \"elementType\": \"geometry\",\n\t    \"stylers\": [{\n\t      \"visibility\": \"off\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"road\",\n\t    \"elementType\": \"labels.icon\",\n\t    \"stylers\": [{\n\t      \"visibility\": \"off\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"water\",\n\t    \"stylers\": [{\n\t      \"color\": \"#B0B0B0\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"poi\",\n\t    \"elementType\": \"labels.icon\",\n\t    \"stylers\": [{\n\t      \"visibility\": \"off\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"poi\",\n\t    \"elementType\": \"labels.text\",\n\t    \"stylers\": [{\n\t      \"visibility\": \"off\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"road\",\n\t    \"elementType\": \"geometry.fill\",\n\t    \"stylers\": [{\n\t      \"color\": \"#ffffff\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"road.local\",\n\t    \"elementType\": \"labels.text\",\n\t    \"stylers\": [{\n\t      \"visibility\": \"simplified\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"water\",\n\t    \"elementType\": \"labels.text.fill\",\n\t    \"stylers\": [{\n\t      \"color\": \"#ffffff\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"transit.line\",\n\t    \"elementType\": \"geometry\",\n\t    \"stylers\": [{\n\t      \"gamma\": 0.48\n\t    }]\n\t  }, {\n\t    \"featureType\": \"transit.station\",\n\t    \"elementType\": \"labels.icon\",\n\t    \"stylers\": [{\n\t      \"visibility\": \"off\"\n\t    }]\n\t  }, {\n\t    \"featureType\": \"road\",\n\t    \"elementType\": \"geometry.stroke\",\n\t    \"stylers\": [{\n\t      \"gamma\": 7.18\n\t    }]\n\t  }]\n\t  // [{\n\t  //   \"featureType\": \"landscape.natural\",\n\t  //   \"elementType\": \"geometry\",\n\t  //   \"stylers\": [{\n\t  //     \"visibility\": \"off\"\n\t  //   }]\n\t  // }, {\n\t  //   \"featureType\": \"poi.school\",\n\t  //   \"elementType\": \"geometry\",\n\t  //   \"stylers\": [{\n\t  //     \"color\": \"#ededed\"\n\t  //   }]\n\t  // }, {\n\t  //   \"featureType\": \"landscape.man_made\",\n\t  //   \"elementType\": \"geometry\",\n\t  //   \"stylers\": [{\n\t  //     \"color\": \"#0077ca\"\n\t  //   }]\n\t  // }],\n\t};\n\t\n\texports.default = MAP_SETTINGS;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar MAP_ICONS = {\n\t  AED: {\n\t    path: 'M7.5,4A5.5,5.5 0 0,0 2,9.5C2,10 2.09,10.5 2.22,11H6.3L7.57,7.63C7.87,6.83 9.05,6.75 9.43,7.63L11.5,13L12.09,11.58C12.22,11.25 12.57,11 13,11H21.78C21.91,10.5 22,10 22,9.5A5.5,5.5 0 0,0 16.5,4C14.64,4 13,4.93 12,6.34C11,4.93 9.36,4 7.5,4V4M3,12.5A1,1 0 0,0 2,13.5A1,1 0 0,0 3,14.5H5.44L11,20C12,20.9 12,20.9 13,20L18.56,14.5H21A1,1 0 0,0 22,13.5A1,1 0 0,0 21,12.5H13.4L12.47,14.8C12.07,15.81 10.92,15.67 10.55,14.83L8.5,9.5L7.54,11.83C7.39,12.21 7.05,12.5 6.6,12.5H3Z',\n\t    fillColor: '#c71566',\n\t    fillOpacity: 1,\n\t    strokeOpacity: 0.5,\n\t    strokeWeight: 2,\n\t    strokeColor: 'white',\n\t    anchor: new google.maps.Point(12, 12),\n\t    size: new google.maps.Size(24, 24)\n\t  },\n\t  ACCESS: {\n\t    path: 'M21,9H15V22H13V16H11V22H9V9H3V7H21M12,2A2,2 0 0,1 14,4A2,2 0 0,1 12,6C10.89,6 10,5.1 10,4C10,2.89 10.89,2 12,2Z',\n\t    fillColor: '#0077CA',\n\t    fillOpacity: 1,\n\t    strokeOpacity: 0.5,\n\t    strokeWeight: 2,\n\t    strokeColor: 'white',\n\t    anchor: new google.maps.Point(12, 12),\n\t    size: new google.maps.Size(24, 24)\n\t  },\n\t  FOOD: {\n\t    path: 'M3,3A1,1 0 0,0 2,4V8L2,9.5C2,11.19 3.03,12.63 4.5,13.22V19.5A1.5,1.5 0 0,0 6,21A1.5,1.5 0 0,0 7.5,19.5V13.22C8.97,12.63 10,11.19 10,9.5V8L10,4A1,1 0 0,0 9,3A1,1 0 0,0 8,4V8A0.5,0.5 0 0,1 7.5,8.5A0.5,0.5 0 0,1 7,8V4A1,1 0 0,0 6,3A1,1 0 0,0 5,4V8A0.5,0.5 0 0,1 4.5,8.5A0.5,0.5 0 0,1 4,8V4A1,1 0 0,0 3,3M19.88,3C19.75,3 19.62,3.09 19.5,3.16L16,5.25V9H12V11H13L14,21H20L21,11H22V9H18V6.34L20.5,4.84C21,4.56 21.13,4 20.84,3.5C20.63,3.14 20.26,2.95 19.88,3Z',\n\t    fillColor: '#5F259F',\n\t    fillOpacity: 0.8,\n\t    strokeOpacity: 0.5,\n\t    strokeWeight: 2,\n\t    strokeColor: 'white',\n\t    anchor: new google.maps.Point(12, 12),\n\t    size: new google.maps.Size(24, 24)\n\t  },\n\t  SERVICE: {\n\t    path: 'M18,16H6V15.1C6,13.1 10,12 12,12C14,12 18,13.1 18,15.1M12,5.3C13.5,5.3 14.7,6.5 14.7,8C14.7,9.5 13.5,10.7 12,10.7C10.5,10.7 9.3,9.5 9.3,8C9.3,6.5 10.5,5.3 12,5.3M19,2H5C3.89,2 3,2.89 3,4V18A2,2 0 0,0 5,20H9L12,23L15,20H19A2,2 0 0,0 21,18V4C21,2.89 20.1,2 19,2Z',\n\t    fillColor: '#003c71',\n\t    fillOpacity: 0.8,\n\t    strokeOpacity: 0.5,\n\t    strokeWeight: 2,\n\t    strokeColor: 'white',\n\t    anchor: new google.maps.Point(12, 12),\n\t    size: new google.maps.Size(24, 24)\n\t  },\n\t  OUTDOOR: {\n\t    path: 'M10,21V18H3L8,13H5L10,8H7L12,3L17,8H14L19,13H16L21,18H14V21H10Z',\n\t    fillColor: '#1a875c',\n\t    fillOpacity: 0.8,\n\t    strokeOpacity: 0.5,\n\t    strokeWeight: 2,\n\t    strokeColor: 'white',\n\t    anchor: new google.maps.Point(12, 12),\n\t    size: new google.maps.Size(24, 24)\n\t  },\n\t  PARKING: {\n\t    path: 'M13.2,11H10V7H13.2A2,2 0 0,1 15.2,9A2,2 0 0,1 13.2,11M13,3H6V21H10V15H13A6,6 0 0,0 19,9C19,5.68 16.31,3 13,3Z',\n\t    fillColor: '#1a875c',\n\t    fillOpacity: 0.8,\n\t    strokeOpacity: 0.5,\n\t    strokeWeight: 2,\n\t    strokeColor: 'white',\n\t    anchor: new google.maps.Point(12, 12),\n\t    size: new google.maps.Size(24, 24)\n\t  },\n\t  DEFAULT: {\n\t    path: 'M3.83,3.57A11.8,11.8,0,0,1,12.5,0a11.8,11.8,0,0,1,8.67,3.57,11.8,11.8,0,0,1,3.57,8.67,16.43,16.43,0,0,1-1.27,5.83,36,36,0,0,1-3.08,6.16q-1.81,2.88-3.57,5.38t-3,4L12.5,35l-1.31-1.52q-.82-.94-3-3.78a63.32,63.32,0,0,1-3.74-5.5,40,40,0,0,1-2.92-6A16.62,16.62,0,0,1,.26,12.24,11.8,11.8,0,0,1,3.83,3.57ZM9.42,15.32A4.2,4.2,0,0,0,12.5,16.6a4.35,4.35,0,0,0,4.35-4.35A4.35,4.35,0,0,0,12.5,7.89a4.35,4.35,0,0,0-4.35,4.35A4.2,4.2,0,0,0,9.42,15.32Z',\n\t    strokeColor: 'white',\n\t    strokeOpacity: 0.5,\n\t    strokeWeight: 2,\n\t    fillColor: '#003c71',\n\t    fillOpacity: 0.9,\n\t    rotation: 0,\n\t    scale: 1.0,\n\t    anchor: new google.maps.Point(12.5, 35),\n\t    size: new google.maps.Size(30, 40)\n\t  }\n\t};\n\t\n\texports.default = MAP_ICONS;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar templates = ['$templateCache', function ($templateCache) {\n\t  $templateCache.put('_map.html', '<ng-map\\n  center=\"43.9443802,-78.8975857\"\\n  zoom=\"17\"\\n  styles=\"{{ $ctrl.MAP_SETTINGS.styles }}\"\\n  map-type-id=\"{{ $ctrl.MAP_SETTINGS.type }}\"\\n  disable-default-u-i=\"true\"\\n  tilt=\"45\"\\n  heading=\"0\"\\n  layout\\n  layout-fill>\\n  <custom-control id=\"map-controls\" position=\"TOP_LEFT\" index=\"1\">\\n\\t\\t<campus-map-controls ng-model=\"$ctrl.mapControls\"></campus-map-controls>\\n  </custom-control>\\n</ng-map>');\n\t  $templateCache.put('controls/_map-controls.html', '<md-whiteframe\\n  class=\"md-whiteframe-16dp map-controls\"\\n  layout=\"column\"\\n  layout-align=\"center center\"\\n  layout-fill>\\n  <div layout=\"row\">\\n    <md-input-container>\\n      <label>Location</label>\\n      <md-select ng-model=\"$ctrl.location\" md-on-open=\"$ctrl.loadLocations()\" ng-change=\"$ctrl.updateLocation()\" ng-model-options=\"{trackBy: \\'$value._id\\'}\">\\n        <md-option ng-repeat=\"location in $ctrl.locations\" ng-value=\"location\" ng-disabled=\"$ctrl.location === location\">\\n          {{location.label}}\\n        </md-option>\\n      </md-select>\\n    </md-input-container>\\n    <md-input-container>\\n      <label>Feature category</label>\\n      <md-select ng-model=\"$ctrl.category\" md-on-open=\"$ctrl.loadCategories()\" ng-change=\"$ctrl.updateCategory()\" ng-model-options=\"{trackBy: \\'$value._id\\'}\">\\n        <md-option ng-repeat=\"category in $ctrl.categories\" ng-value=\"category\" ng-disabled=\"$ctrl.category === category\">\\n          {{ category.name }}\\n        </md-option>\\n      </md-select>\\n    </md-input-container>\\n    <md-input-container ng-if=\"$ctrl.category\">\\n      <label>Feature collection</label>\\n      <md-select ng-model=\"$ctrl.collection\" md-on-open=\"$ctrl.loadCollections()\" ng-change=\"$ctrl.updateCollection()\" ng-model-options=\"{trackBy: \\'$value._id\\'}\">\\n        <md-option ng-repeat=\"collection in $ctrl.collections\" ng-value=\"collection\" ng-disabled=\"$ctrl.collection === collection\">\\n          {{ collection.name }}\\n        </md-option>\\n      </md-select>\\n    </md-input-container>\\n  </div>\\n  <div layout=\"row\">\\n    <md-button class=\"md-primary\" ng-click=\"$ctrl.showAll()\">\\n    \\tShow all\\n    </md-button>\\n  </div>\\n</md-whiteframe>');\n\t  $templateCache.put('detail/_map-detail.html', '<md-whiteframe\\n  class=\"md-whiteframe-16dp map-detail\"\\n  layout=\"column\"\\n  layout-align=\"center center\">\\n  <md-toolbar>\\n    <div class=\"md-toolbar-tools\">\\n      <h2>\\n        <span>{{ ctrl.name }}</span>\\n      </h2>\\n      <span flex></span>\\n      <md-button class=\"md-icon-button\" aria-label=\"Close info\" ng-click=\"ctrl.close()\">\\n        <span>&times;</span>\\n      </md-button>\\n    </div>\\n  </md-toolbar>\\n  <div layout=\"column\" layout-margin>\\n    <md-button ng-click=\"ctrl.showDetails()\">{{ ctrl.detailsShowing ? \\'Hide\\' : \\'Show\\'}} details <span class=\"detail-arrow\" ng-class=\"{ \\'arrow-up\\' : ctrl.detailsShowing }\"></span></md-button>\\n  \\t<md-content layout-padding layout-margin class=\"details-text\" ng-bind-html=\"ctrl.description\" ng-show=\"ctrl.detailsShowing\"></md-content>\\n  \\t<md-button layout-padding class=\"md-raised md-primary\" aria-label=\"Tour this building\" ng-if=\"ctrl.building\" ng-click=\"ctrl.goToBldg(ctrl.callback)\">\\n  \\t\\tTake a tour &raquo;\\n  \\t</md-button>\\n  </div>\\n</md-whiteframe>');\n\t}];exports.default = templates;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}